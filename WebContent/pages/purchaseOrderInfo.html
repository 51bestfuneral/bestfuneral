<!DOCTYPE html>
<html>
<head>
<title>预约信息</title>
<script src="/funeral/js/jquery-2.1.4.js"></script>
<script src="/funeral/js/jquery-ui.js"></script>
<script src="/funeral/js/angular-1.4.0-rc.2/angular.js"></script>
<script src="/funeral/js/generalUsage.js"></script>
<script src="/funeral/js/idCheck.js"></script>
<link rel="stylesheet" href="/funeral/js/Font-Awesome-4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/funeral/js/AccountInfo.css">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<script>
var app = angular.module('productApp', []);
app.directive('onFinishRenderFilters', function ($timeout) {
    return {
        restrict: 'A',
        link: function(scope, element, attr) {
            if (scope.$last === true) {
                $timeout(function() {
                    scope.$emit('ngRepeatFinished');
                });
            }
        }
    };
});
app.controller('products', function($scope, $http) {
    var days = [],
	    years = [];
    $http.get("/funeral/user/list").success(function(response) {
        var birthday = response.birthday,
            birthdayOption,
            birthmonthOption,
            birthyearOption;
        if (response.birthday) {
        birthyearOption = birthday.substring(0,4);
        $scope.birthmonth = birthday.substring(5,7);
        birthdayOption = birthday.substring(8, 10);
        }

		for (var i=1;i<= 31; i++) {
            if (i === parseInt(birthdayOption)) {
			    days.push({
                    optionValue: i,
                    optionSelected: 'selected'
                });
            }
            else {
                days.push({
                    optionValue: i,
                    optionSelected: ''
                });
            }
		}
		for (var j=1901;j<= 2016; j++) {
            if (j === parseInt(birthyearOption)) {
			    years.push({
                    optionValue: j,
                    optionSelected: 'selected'
                });
            }
            else {
                years.push({
                    optionValue: j,
                    optionSelected: ''
                });
            }
		}
        $scope.days=days;
	    $scope.years=years;
    	$scope.user = response;
    });
});
</script>
<style>
.clickable {
    cursor: pointer;
}
.clickable:hover {
    background-color: #DCDCDC;
}
.clickableItem {
    cursor: pointer;
}
.clickableItem:hover {
    background-color: #F5F5F5;
}
.orderNumber {
    font-size: 16px;
	text-decoration: none;
	color: #ff5274;
}
.valuehiddenDiv {
    overflow: hidden;
	height: 0px;
    -moz-transition: height 0.5s;
    -webkit-transition: height 0.5s;
    -o-transition: height 0.5s;
}
.detailhiddenDiv {
    overflow: hidden;
	height: 0px;
    -moz-transition: height 0.5s;
    -webkit-transition: height 0.5s; 
    -o-transition: height 0.5s;
}
.spreadIcon {
    float: right;
    margin-top: -26px;
}
.containerClass {
    overflow: auto;
	width: 738px;
	-moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
	border-right: 1px solid #dce0e0;
}
.detailView {
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
}
</style>
<body onselectstart="return false" ng-app="productApp" ng-controller="products">
<IFRAME NAME="content_frame" width=100% SRC="component/topBar.html?cat=main" frameborder = 0 height = "67px"></IFRAME>
<div id="accountInfoMain">
    <div id="leftTabs">
	    <div class="singleTab">
		    <a href="AccountInfo.html"><p class="normalText">编辑个人资料</p></a>
		</div>
		<div class="singleTab selectedTab">
		    <a href="#"><p class="normalText">您的订单</p></a>
		</div>
		<div class="singleTab">
		    <a href="orderInfo.html"><p class="normalText">预约记录</p></a>
		</div>
		<div class="singleTab">
		    <p class="normalText">愿望清单</p>
		</div>
    </div>
<div id="rightContentsMain">
	<div id="rightContents">
	    <div class="contentHeader clickable">
		    <p class="normalText">订单信息 <a href="#" class="orderNumber">编号:809080707960</a></p>
			<div class="spreadIcon"><i class="fa fa-plus-square-o"></i></div>
		</div>
		<div class="containerClass">
			<div class="valuehiddenDiv">
				<div class="contentValue clickableItem">
					<table>
						<thead>
							<tr>
								<th>订单号</th>
								<th>订单</th>
								<th>预约时间</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>汇龙源</td>
								<td>上海市浦东新区朝阳农场军港公路388号</td>
								<td>2016/5/18 18:00PM</td>
								<td><a href="/funeral/pages/cemetery.html?id=2">查看详情</a></td>
							</tr>
						</tbody>
					</table>
					<div class="spreadIcon"><i class="fa fa-plus-square-o"></i></div>
				</div>
			</div>
			<div class="detailhiddenDiv">
				<div class="detailVeiw">
					<div class="imageBox" style="background-image: url('http://www.365niannian.com/funeral/pages/component/cemetery/images/1459260543037_581ac42efc3450f1ce152f6c1b8c4c58-001.jpg')">
					</div>
					<div class="cemeteryDescDiv">
						<h3>汇龙园区</h3>
						<span>上海汇龙园陵园位于航空港和深水港之间，毗邻东海边独具荷兰田园风光的上海鲜花港，是难得的福祉。 陵园用 "太阳"、"地球"等天文名称定义，营造一种"天人合一"的意境；直径约100米的圆形太阳广场格外醒目。</span>
					</div>
				</div>
			</div>
		</div>
		<div class="containerClass">
			<div class="valuehiddenDiv">
				<div class="contentValue clickableItem">
					<table>
						<thead>
							<tr>
								<th>订单号</th>
								<th>订单</th>
								<th>预约时间</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>汇龙源</td>
								<td>上海市浦东新区朝阳农场军港公路388号</td>
								<td>2016/5/18 18:00PM</td>
								<td><a href="/funeral/pages/cemetery.html?id=2">查看详情</a></td>
							</tr>
						</tbody>
					</table>
					<div class="spreadIcon"><i class="fa fa-plus-square-o"></i></div>
				</div>
			</div>
			<div class="detailhiddenDiv">
				<div class="detailVeiw">
					<div class="imageBox" style="background-image: url('http://www.365niannian.com/funeral/pages/component/cemetery/images/1459260543037_581ac42efc3450f1ce152f6c1b8c4c58-001.jpg')">
					</div>
					<div class="cemeteryDescDiv">
						<h3>汇龙园区</h3>
						<span>上海汇龙园陵园位于航空港和深水港之间，毗邻东海边独具荷兰田园风光的上海鲜花港，是难得的福祉。 陵园用 "太阳"、"地球"等天文名称定义，营造一种"天人合一"的意境；直径约100米的圆形太阳广场格外醒目。</span>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div id="rightContents">
	    <div class="contentHeader clickable">
		    <p class="normalText">订单信息 <a href="#" class="orderNumber">编号:809080707960</a></p>
			<div class="spreadIcon"><i class="fa fa-plus-square-o"></i></div>
		</div>
		<div class="containerClass">
			<div class="valuehiddenDiv">
				<div class="contentValue clickableItem">
					<table>
						<thead>
							<tr>
								<th>订单号</th>
								<th>订单</th>
								<th>预约时间</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>汇龙源</td>
								<td>上海市浦东新区朝阳农场军港公路388号</td>
								<td>2016/5/18 18:00PM</td>
								<td><a href="/funeral/pages/cemetery.html?id=2">查看详情</a></td>
							</tr>
						</tbody>
					</table>
					<div class="spreadIcon"><i class="fa fa-plus-square-o"></i></div>
				</div>
			</div>
			<div class="detailhiddenDiv">
				<div class="detailVeiw">
					<div class="imageBox" style="background-image: url('http://www.365niannian.com/funeral/pages/component/cemetery/images/1459260543037_581ac42efc3450f1ce152f6c1b8c4c58-001.jpg')">
					</div>
					<div class="cemeteryDescDiv">
						<h3>汇龙园区</h3>
						<span>上海汇龙园陵园位于航空港和深水港之间，毗邻东海边独具荷兰田园风光的上海鲜花港，是难得的福祉。 陵园用 "太阳"、"地球"等天文名称定义，营造一种"天人合一"的意境；直径约100米的圆形太阳广场格外醒目。</span>
					</div>
				</div>
			</div>
		</div>
		<div class="containerClass">
			<div class="valuehiddenDiv">
				<div class="contentValue clickableItem">
					<table>
						<thead>
							<tr>
								<th>订单号</th>
								<th>订单</th>
								<th>预约时间</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>汇龙源</td>
								<td>上海市浦东新区朝阳农场军港公路388号</td>
								<td>2016/5/18 18:00PM</td>
								<td><a href="/funeral/pages/cemetery.html?id=2">查看详情</a></td>
							</tr>
						</tbody>
					</table>
					<div class="spreadIcon"><i class="fa fa-plus-square-o"></i></div>
				</div>
			</div>
			<div class="detailhiddenDiv">
				<div class="detailVeiw">
					<div class="imageBox" style="background-image: url('http://www.365niannian.com/funeral/pages/component/cemetery/images/1459260543037_581ac42efc3450f1ce152f6c1b8c4c58-001.jpg')">
					</div>
					<div class="cemeteryDescDiv">
						<h3>汇龙园区</h3>
						<span>上海汇龙园陵园位于航空港和深水港之间，毗邻东海边独具荷兰田园风光的上海鲜花港，是难得的福祉。 陵园用 "太阳"、"地球"等天文名称定义，营造一种"天人合一"的意境；直径约100米的圆形太阳广场格外醒目。</span>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
</div>
<IFRAME NAME="content_frame" width=100% height=246 marginwidth=0 marginheight=0 SRC="component/bottomBar.html" frameborder = 0></IFRAME>
</body>
<script>
    $(".clickable").click(function() {
	    var parentDiv = $(this).closest("#rightContents"),
		    currentHeight = parentDiv.find(".valuehiddenDiv")[0].offsetHeight;

	    if (currentHeight === 0) {
		    changeToHeight = '95px';
		}
		else {
		    changeToHeight = '0px';
		}
		parentDiv.find(".valuehiddenDiv").css({
		    height: changeToHeight
		});

		if (changeToHeight === '0px') {
		    parentDiv.find(".detailhiddenDiv").css({
		        height: changeToHeight
		    });
		}
	});
	$(".clickableItem").click(function() {
	    var parentDiv = $(this).closest(".containerClass"),
		    hiddenDiv = parentDiv.find(".detailhiddenDiv"),
			currentHeight = parentDiv.find(".detailhiddenDiv")[0].offsetHeight;

	    if (currentHeight === 0) {
		    changeToHeight = '300px';
		}
		else {
		    changeToHeight = '0px';
		}
		parentDiv.find(".detailhiddenDiv").css({
		    height: changeToHeight
		});
	});
</script>
</html>