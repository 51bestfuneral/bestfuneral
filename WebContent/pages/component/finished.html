<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head id="head">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<title>
葬礼定制
</title>
</head>
<script src="../../js/jquery-2.1.4.js"></script>
<script src="http://libs.baidu.com/jquery/1.10.2/jquery.js"></script>
<script src="../../js/jquery-ui.js"></script>
<script src="../../js/angular-1.4.0-rc.2/angular.js"></script>
<script src="../../js/Bootstrap/boot.js"></script>
<script src="http://apps.bdimg.com/libs/html5shiv/3.7/html5shiv.min.js"></script>
<script src="http://apps.bdimg.com/libs/respond.js/1.4.2/respond.min.js"></script>
<link href="../../js/Bootstrap/boot.css" rel="stylesheet">
<style>
    body {
	    text-align: center;
	}
    #productMain {
	    width: 950px;
		overflow: auto;
		padding-top: 53px;
	}
	#rightFooter {
		width: 100%;
		overflow: auto;
		background: #fafafa;
		padding-top: 31px;
		padding-bottom: 31px;
		padding-left: 55px;
		padding-right: 55px;
	}
	#prevStep {
		float: left;
		width: 61px;
		height: 60px;
		background: 
	}
	#nextStep {
		float: right;
		width: 144px;
		height: 60px;
	}
	.operatorButton {
		background: #d6d6d6;
		border-radius: 4px;
		box-shadow: 0 4px 0px 0 #c5c5c5;
		text-align: center;
		cursor: pointer;
	}
	.operatorButton:hover {
		box-shadow: none;
		background: #ff5274;
		box-shadow: 0 4px 0px 0 #e6385a;
	}
	.operatorButton p {
		margin: 0px;
		line-height: 60px;
		color: #ffffff;
		font-size: 24px;
	}
	#finishContent {
	    width: 100%;
		overflow: auto;
		padding-bottom: 53px;
	}
	#finishTitle {
	    width: 84px;
		height: 84px;
		border-radius: 42px;
		background: #ededed;
		margin: 0px auto;
	}
	#confirmDiv {
	    width: 48px;
		height: 48px;
		border-radius: 24px;
		background: #2c9676;
		top: 50px;
		left: 45px;
		position: relative;
	}
	#confirmDiv p {
	    margin: 0px;
		line-height: 48px;
		font-size: 25px;
		font-weight: bold;
		color: #ffffff;
	}
	#finishText {
	    width: 88%;
		overflow: auto;
		margin: 0px auto;
		margin-top: 37px;
		padding-bottom: 20px;
	}
	#finishText h1 {
	    margin: 0px;
		font-size: 40px;
        color: #707070;
	}
	#finishText p {
	    margin: 0px;
		font-size: 25px;
		line-height: 30px;
		margin-top: 45px;
	}
	p span {
	    color: #ff5274;
		font-weight: bold;
	}
	#wishListLink {
	    width: 210px;
		overflow: auto;
		margin: 0px auto;
		margin-top: 37px;
	}
	#linkLeft {
	    width: 20%;
		overflow: auto;
		float: left;
	}
	#linkRight {
	    width: 80%;
		overflow: auto;
		float: left;
	}
	#linkRight p {
	    margin: 0px;
		line-height: 34px;
		font-size: 25px;
		color: #ff5274;
		font-weight: bold;
	}
	.disabled {
	    opacity: 0.5;
		cursor: default;
		background: #d6d6d6!important;
		box-shadow: 0 4px 0px 0 #c5c5c5!important;
	}
</style>
<script type="text/javascript">
var app = angular.module('productApp', []);
app.controller('products', function($scope, $http) {
    var tabs = [{
	    index: 1
	}, {
	    index: 2
	}, {
	    index: 3
	}]
	$scope.tabs = tabs;
});
</script>
<body ng-app="productApp" ng-controller="products" onselectstart="return false">
<div id="productMain"  >
    <div id="finishContent">
	    <div id="finishTitle">
		    <div id="confirmDiv">
			    <p>&#10004;</p>
			</div>
		</div>
		<div id="finishText">
		    <h1>完成</h1>
			<p>
			    您已经完成产品和服务。我们根据您的答案帮您生成了愿望清单帮您总结您的产品和服务购买,下一步将把愿望清单中的物品加入到购物车
			</p>
			<div id="wishListLink">
			    <div id="linkLeft">
				</div>
				<div id="linkRight">
				    <p>查看愿望清单</p>
				</div>
			</div>
		</div>
	</div>
    <div id="rightFooter">
		<div id="nextStep" class="operatorButton">
		    <p>完成</p>
		</div>
	</div>
</div>
</body>
<script>
$(document.body).on("click",".operatorButton", function( event ) {
	var me = $(this);

	if (me.hasClass("disabled")) {
	    return;
	}

	if (me[0].id === 'nextStep') {
	$.ajax({
		    url: '/funeral/wishlist/add?wishlistId='+parent.wishlistId,
			type: 'POST',
			contentType: "application/json; charset=UTF-8",
			dataType:'json',
			data: JSON.stringify(wishIdList),
			success:function(data){
                wishList = data;
				drillIntoNextTab(nextTab);
				originalWishlist = [];
				for (var i=0;i<wishList.length;i++) {
                    originalWishlist.push({
                        wishId: wishList[i].wishId
                    });
				}
		    },
			error: function(error) {
				//$("#messageSent")[0].value = '';
			}
		}); 
	    window.parent.location.href='/funeral/pages/wishList.html';;
	}
	else {
	    $(".questionCenter").each(function(){
		    if (!$(this).is(':hidden')) {
	            $(this).hide();
	            $(this).prev().fadeIn();
				return false;
			}
	    });
	}
	window.parent.iFrameHeight();
});
$(document.body).on("click",".productTab", function( event ) {
	var contentId = $(this)[0].id + "-content";

	$(".questionCenter").each(function(){
	    var me = $(this);
		
		if (me[0].id === contentId) {
		    if (me.is(':hidden')) {
		        me.fadeIn();
			}
			else {
			    return false;
			}
		}
		else if (me[0].id !== contentId && !me.is(':hidden')) {
		    me.hide();
		}
	});
});
window.onload=function(){
    $(".questionCenter").first().fadeIn();
	$("#prevStep").addClass("disabled");
	window.parent.iFrameHeight(4);
};
</script>
</html>