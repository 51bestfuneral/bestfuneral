<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head id="head"><title>
	Bleum - HOME
</title><meta name="description" content="Bleum provides high performance software development teams that
								deliver smart solutions, helping you to exceed your customers��
								expectations for timely product delivery, zero defects, and a
								superior customer experience." /> 
<meta http-equiv="content-type" content="text/html; charset=UTF-8" /> 
<meta http-equiv="pragma" content="no-cache" /> 
<meta http-equiv="content-style-type" content="text/css" /> 
<meta http-equiv="content-script-type" content="text/javascript" /> 
</head>
<script src="/funeral/js/jquery-2.1.4.js"></script>
<script src="/funeral/js/jquery-ui.js"></script>
<script src="/funeral/js/sliderx.js"></script>
<script src="/funeral/js/angular-1.4.0-rc.2/angular.js"></script>
<link href="/funeral/js/bootstrap-3.3.6-dist/css/bootstrap.css" rel="stylesheet">
<script src="/funeral/js/bootstrap-3.3.6-dist/js/bootstrap.js"></script>
<style>
.topBarDiv {
    box-shadow: 0px 2px 4px 0px rgba(162, 162, 162, 0.5);
	height: 65px;
	z-index: 100;
}
@media (min-width: 900px) {
  .container {
    width: 100%;
	padding: 0px;
	min-width: 1000px;
  }
}
#header {
    width: 100%;
	height: 215px;
	text-align: center;
	background: -webkit-radial-gradient(#ef8391, #db5f34);
    background: -o-radial-gradient(#ef8391, #db5f34);
    background: -moz-radial-gradient(#ef8391, #db5f34);
    background: radial-gradient(#ef8391, #db5f34);
}
#header h1 {
    font-size: 44px;
	line-height: 215px;
	color: #ffffff;
	margin: 0px;
}
#filterBar {
    padding-left: 248px;
	width:100%;
	height: 105px;
}
#colorFilter {
    width: 345px;
	height: 100%;
	float: left;
	margin-right: 38px;
}
.topHalfHeader {
    width: 100%;
	height: 38%;
	padding-left: 16px;
	padding-top: 16px;
	border-bottom: 1px solid #eeeeee;
}
.topHalfHeader p {
    font-size: 16px;
	letter-spacing: 3px;
	margin: 0px;
	color: #3c3d41;
}
.bottomHalf {
    width: 100%;
	height: 62%;
	padding-left: 18px;
	padding-top: 18px;
}
.optionIcon {
    width:26px;
	height: 26px;
	border-radius: 13px;
	margin-right: 5px;
	background: #eeeeee;
	float:left;
	cursor: pointer;
	opacity: 0.7;
	text-align: center
}
.optionIcon:hover {
    opacity: 1;
}
.optionIcon p {
    font-size: 8px;
	letter-spacing: 1px;
	color: #3c3d41;
	margin: 0px;
	line-height: 26px;
}
#sizeFilter {
    width: 184px;
	float: left;
	margin-right: 38px;
}
#priceFilter {
    width: 230px;
	float: left;
}
 #box{position: relative; width: 200px; height: 10px; padding-top:  30px;padding-bottom: 30px; margin-left: 15px;}
#bg{
    height: 2px;
	border-radius: 1px; 
	overflow: hidden;
	background: #838d8f;
}
#bgcolor{
    background: #eeeeee;
	width: 0;
	height: 2px;
	border-radius: 1px;
	float: left;
}
#bgcolorRight{
    background-color: #eeeeee;
	width: 0;
	height: 2px;
	border-radius: 1px;
	float: right;
}
#btLeft{
     width: 14px;
	 height: 14px;
	 background: #FFFFFF;
	 border-radius: 7px;
	 border: 2px solid #838d8f;
	 overflow: hidden;
	 position: absolute;
	 left: 0px;
	 margin-left: -7px;
	 margin-top: -6px;
	 cursor: pointer;
}
#btRight{
     width: 14px;
	 height: 14px;
	 background: #FFFFFF;
	 border-radius: 7px;
	 border: 2px solid #838d8f;
	 overflow: hidden;
	 position: absolute;
	 right: 0px;
	 ledt: auto;
	 margin-right: -7px;
	 margin-top: -6px;
	 cursor: pointer;
}
	.productItem {
	    width: 230px;
		float: left;
		margin-left: 40px;
		border-bottom: 1px solid #ededed;
		box-shadow: 0px 5px 15px 0px rgba(0,0,0,0.15);
		background-color: #ffffff;
		border-radius: 4px;
		overflow: hidden;
		cursor: pointer;
		transition:box-shadow 0.3s;
	    -moz-transition:box-shadow 0.3s;
        -webkit-transition:box-shadow 0.3s;
        -o-transition:box-shadow 0.3s;
	}
	.productItem:hover {
	    box-shadow: 0px 10px 20px 0px #ff5274;
	}
	.productInfo {
	    padding-top: 20px;
		padding-left: 15px;
		text-align: left;
		padding-bottom: 15px;
	}
	.productInfo .header {
	    font-size: 15px;
		color: #3b3d40;
		margin-bottom: 5px;
	}
	.productInfo .detail {
	    font-size: 12px;
		color: #f5274;
		margin-bottom: 20px;
	}
	.addWishButton {
	    cursor: pointer;
		border-radius: 3px;
		width: 130px;
		height: 28px;
		background-color: #ff5274;
		padding-left: 7px;
	}
	.addWishButton p {
	    color: white;
		font-size: 13px;
		line-height: 28px;
		float: left;
	}
	.addWishButton:hover {
	    background-color: #ff496d!important;
	}
	.addWishButton img {
	    float: left;
		margin-top: 5px;
	}
	.moreInfo {
	    border-top: 1px solid #ededed;
	}
	.moreInfo a{
	    line-height: 30px;
		color: #3078c0;
		font-size: 13px;
		border: 0px;
	}
	#product {
	    width: 1120px;
		margin: 0 auto;
		padding-top: 40px;
	}
	.item {
	    padding-top: 20px;
	    padding-bottom: 20px;
		overflow: auto;
	}
 #text{width: 200px; margin: 0 auto; font-size: 16px; line-height: 2em;}
</style>
<script type="text/javascript">
var app = angular.module('productApp', []);
var filter = location.search,
	wishList,
	usrId = 1;

app.controller('products', function($scope, $http) {
	$http.get("/funeral/wishlist/list?userId="+usrId).success(function(response) {
	    wishList = response;
		function validateInList() {
	    $.ajax({
			url: '/funeral/wishlistDetail/list?wishlistId='+wishList[0].wishlistId,
			type: 'get',
			success:function(data){
				var response = data;
				for (var i=0;i<response.length;i++) {
				    var wishInList = response[i];
					if ($("#"+wishInList.wishId).length > 0) {
					    $("#"+wishInList.wishId).find(".addWishButton").addClass("disableDiv");
					}
				}
				if ($(".disableDiv").length>0) {
				    for (var i=0;i<$(".disableDiv").length;i++) {
				        $(".disableDiv").find("p")[i].innerText = "�Ѽ���Ը���嵥";
					}
				}
			},
			error: function(error) {
				var response = error;
				//$(".disableDiv").find("p")[0].innerText = "�Ѽ���Ը���嵥";
			}
		});
	}
	validateInList();
	});
	$http.get("/funeral/wish/list"+filter).success(function(response) {
	    var j = 1,
		    counter = 1,
		    numberInRow = 4,
			objectsInRow = [],
			layouts = [];
		for (var i=0;i<response.length;i++) {
		    var singleProduct = response[i];

			if (j <= numberInRow) {
			    objectsInRow.push(singleProduct);
			}

			if (j === numberInRow || i === response.length-1) {
			    var layout = {},
				    active = '',
					itemLayout = objectsInRow;
					
				if (counter === 1) {
				    active = 'active'
				}
				layout = {
				    'index': counter,
					'active': active,
					'itemLayout': itemLayout
				};
				layouts.push(layout);
			    j = 0;
				counter++;
				objectsInRow = [];
			}
			j++;
		}
		$scope.layouts = layouts;
	});
});
</script>
<body onselectstart="return false"  ng-app="productApp" ng-controller="products">
<div class="topBarDiv">
    <IFRAME NAME="content_frame" width=100% SRC="component/topBar.html?cat=product" frameborder = 0 height = "65px"></IFRAME>
</div>
<div class="container">
    <div id="header">
	    <h1>����ǻҺ�</h1>
	</div>
	<div id="filterBar">
	    <div id="colorFilter">
		    <div class="topHalfHeader">
			    <p>��ɫ</p>
			</div>
			<div class="bottomHalf">
			    <div class="optionIcon">
				</div>
				<div class="optionIcon">
				</div>
				<div class="optionIcon">
				</div>
				<div class="optionIcon">
				</div>
				<div class="optionIcon">
				</div>
				<div class="optionIcon">
				</div>
				<div class="optionIcon">
				</div>
				<div class="optionIcon">
				</div>
				<div class="optionIcon">
				</div>
				<div class="optionIcon">
				</div>
			</div>
		</div>
		<div id="sizeFilter">
		    <div class="topHalfHeader">
			    <p>��С</p>
			</div>
			<div class="bottomHalf">
			    <div class="optionIcon">
				    <p>�ش�</p>
				</div>
				<div class="optionIcon">
				    <p>��</p>
				</div>
				<div class="optionIcon">
				    <p>�е�</p>
				</div>
				<div class="optionIcon">
				    <p>С</p>
				</div>
				<div class="optionIcon">
				    <p>����</p>
				</div>
			</div>
		</div>
		<div id="priceFilter">
		    <div class="topHalfHeader">
			    <p>�۸�</p>
			</div>
		    <div id="box">
				<div id="bg">
					<div id="bgcolor"></div>
					<div id="bgcolorRight"></div>
				</div>
				<div id="btLeft"></div>
				<div id="btRight"></div>
			</div>
			<div id="text"></div>
		</div>
    </div>
	<div id="product">
	    <div class="item {{layout.active}}" alt="Second slide" ng-repeat="layout in layouts">
	                <div class="productItem" id="{{itemLayout.wishId}}" ng-repeat="itemLayout in layout.itemLayout track by $index">
		                <div class="imageDiv">
						    <img src="../../js/images/product1.png" class="image"></img>
						</div>
						<div class="productText">
						    <div class="productInfo">
							    <p class="header">{{itemLayout.wishName}}</p>
								<p class="detail">��������ײ���(ԭ��:��{{itemLayout.price}})</p>
								<div class="addWishButton" onselectstart="return false">
								    <img src="../../js/images/addWish.png"></img>
								    <p>�����Ը���嵥</p>
								</div>
							</div>
							<div class="moreInfo"><a href="{{itemLayout.url}}" class="moreInfo">�˽�����</a></div>
						</div>
		            </div>
                </div>
	</div>
<IFRAME NAME="content_frame" width=100% height=294 marginwidth=0 marginheight=0 SRC="component/bottomBar.html" frameborder = 0></IFRAME>
</body>
 <script type="text/javascript">
 (function($){
  var $box = $('#box');
  var $bg = $('#bg');
  var $bgcolor = $('#bgcolor');
  var $bgcolorRight = $('#bgcolorRight');
  var $btn = $('#btLeft');
  var $btn1 = $('#btRight');
  var $text = $('#text');
  var statuLeft = false;
  var statuRight = false;
  var ox = 0;
  var ox2 = 0;
  var lx = 0;
  var lx2 = 0;
  var left = 0;
  var right = 0;
  var bgleft = 0;
   $btn.mousedown(function(e){
    lx = $btn.offset().left;
    ox = e.pageX - left;
    statuLeft = true;
   });
   $btn1.mousedown(function(e){
    lx2 = $btn1.offset().left;
    ox2 = e.pageX + right;
    statuRight = true;
   });
   $(document).mouseup(function(){
       statuLeft = false;
       statuRight = false;
   });
   $box.mousemove(function(e){
    if(statuLeft){
     left = e.pageX - ox;
     if(left < 0){
      left = 0;
     }
     if(left > $('#box').width()-right){
      left = $('#box').width()-right;
     }
     $btn.css('left',left);
     $bgcolor.width(left);
     $text.html('λ��:' + parseInt((($('#box').width()-left-right)/$('#box').width())*100) + '%');
    }
	if(statuRight){
	 right = ox2 - e.pageX;
	 if(right < 0){
      right = 0;
     }
     if(right > $('#box').width()-left){
      right = $('#box').width()-left;
     }
	 $btn1.css('right',right);
     $bgcolorRight.width(right);
     $text.html('λ��:' + parseInt((($('#box').width()-left-right)/$('#box').width())*100) + '%');
    }
   });
 })(jQuery);
 </script>
</html>