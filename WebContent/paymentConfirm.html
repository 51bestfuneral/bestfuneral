<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head id="head">
<title>念念--付款确认</title>
<meta name="description" content="念念网致力于打造智能葬礼产品和服务定制工具，已实现“殡葬服务价格透明化、互联网化、个性化”为己任。业务范围辐射上海及长三角地区，与多家墓地寺庙建立合作关系。" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" /> 
<meta http-equiv="pragma" content="no-cache" /> 
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-script-type" content="text/javascript" /> 
</head>
<script src="/js/jquery-2.1.4.js"></script>
<script src="/js/jquery-ui.js"></script>
<script src="/js/sliderx.js"></script>
<script src="/js/angular-1.4.0-rc.2/angular.js"></script>
<link href="/js/bootstrap-3.3.6-dist/css/bootstrap.css" rel="stylesheet">
<script src="/js/bootstrap-3.3.6-dist/js/bootstrap.js"></script>
<script src="/js/generalUsage.js"></script>
<style>
.topBarDiv {
	box-shadow: 0px 2px 4px 0px rgba(162, 162, 162, 0.5);
	height: 65px;
	z-index: 1000;
}
@media (min-width: 900px) {
  .container {
    width: 100%;
	padding: 0px;
	min-width: 1000px;
	background-color: #F7F7F7;
  }
}
p {
    margin: 0px;
}
span {
    font-family: "Microsoft Yahei";
}
#paymentContain {
    width: 81%;
	overflow: auto;
	box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.2);
	background: #ffffff;
	margin: 0px auto;
	margin-top: 35px;
}
#infoContain {
	overflow: auto;
	width: 908px;
	margin: 0px auto;
	padding-top: 54px;
	padding-bottom: 46px;
}
#footerContain {
    background: #efefef;
	overflow: auto;
}
#footer {
    overflow: auto;
	width: 908px;
	margin: 0px auto;
	padding-top: 28px;
	padding-bottom: 28px;
}
#nextButton {
    width: 190px;
	height: 56px;
	border-radius: 28px;
	background: #f62f5e;
	text-align: center;
	float: right;
	cursor: pointer;
}
#nextButton p {
    font-size: 20px;
    line-height: 56px;;
    color: #ffffff;
}
#prevButton {
    width: 190px;
	height: 56px;
	border-radius: 28px;
	background: #ffffff;
	text-align: center;
	float: left;
	cursor: pointer;
}
#prevButton p {
    font-size: 20px;
    line-height: 56px;;
    color: #f62f5e;
}
#paymentStatus {
    overflow: auto;
}
.statusPointer {
    width: 20px;
	height: 20px;
	border-radius: 10px;
	background-color: #eeeeee;
	float: left;
}
.statusBar {
    width: 270px;
	height: 7px;
	background: #eeeeee;
	margin-left: 3px;
	margin-right: 3px;
	float: left;
	margin-top: 6px;
}
#paymentStatusDesc {
    width: 100%;
	margin-top: 27px;
	overflow: auto;
	padding-bottom: 28px;
}
.descDiv {
    overflow: auto;
	float: left;
}
.first {
    margin-right: 250px;
}
.second {
    margin-right: 260px;
}
.last {
    float: right!important;
}
.descDiv p {
    font-size: 19px;
    line-height: 1.5;
    color: #2e2e2e;
	font-weight: bold;
}
#paymentStatusDesc .selected {
    color: #f62f5e;
}
#paymentStatus .selected {
	background: #f62f5e;
}
#confirmContain {
    width: 954px;
	overflow: auto;
	margin: 0px auto;
}
#confirmContain p {
    font-size: 19px;
	color: #2e2e2e;
}
#confirmationInfo {
    width: 100%;
	overflow: auto;
}
#confirmLeft {
    width: 61%;
	float: left;
	overflow: auto;
	padding-bottom: 30px;
}
#confirmRight {
    width: 39%;
	float: left;
	overflow: auto;
}
.titleText {
    padding-left: 23px;
	padding-top: 15px;
}
.titleText p {
    font-weight: bold;
}
.singleConfirmTitle {
    padding-left: 23px;
	width:100%;
	height: 56px;
}
.singleConfirmTitle span {
    line-height: 56px;
	font-size: 19px;
	font-weight: bold;
	color: #b4b4b4;
}
.singleConfirm {
	width:100%;
	height: 56px;
	padding-left: 23px;
}
.singleConfirm span {
    line-height: 56px;
	font-size: 19px;
}
.itemName {
    float: left;
}
.itemAmout {
    float: right;
	margin-right: 48px;
}
.itemPrice {
    float: right;
	margin-right: 22px;
	color: #f62f5e;
}
.itemAmoutValue {
    float: right;
	margin-right: 14px;
}
.itemPriceValue {
    float: right;
	margin-right: 15px;
	color: #f62f5e;
	width: 90px;
	text-align: right;
}
.taocanDiv {
    background-color: #f7f7f7;
	width: 100%;
	overflow: auto;
	padding-left: 23px;
	padding-bottom: 10px;
}
.taocanDiv .singleConfirm{
    padding-left: 0px;
}
.taocanDiv p {
    line-height: 48px;
}
.taocanDesc {
    width: 460px;
	background-color: #f0f0f0;
	border: solid 1.4px #f7f7f7;
	padding-top: 11px;
	padding-bottom: 12px;
	overflow: auto;
	margin-top: -10px;
}
.taocanDesc p {
    font-size: 15px!important;
    color: #2e2e2e;
	line-height: 17px;
}
.descTop {
    padding-left: 20px;
	height: 17px;
}
.descBottom {
    padding-left: 40px;
	height: 34px;
}
#confirmRight {
    padding-left: 80px;
}
.rightInfo {
    padding-left: 23px;
	width: 180px;
}
#priceInfo {
    width: 908px;
	margin: 0px auto;
	overflow: auto;
	padding-top: 37px;
	padding-bottom: 37px;
	border-top: 2px solid #e5e5e5;
}
.discountDiv {
    overflow: auto;
	float: left;
}
#discount {
    width: 256px;
	height: 56px;
	border-radius: 28px;
	font-size: 20px;
	font-family: "Microsoft Yahei"
}
.summ {
    overflow: auto;
	margin-left: 100px;
	float: left;
	margin-top: -5px;
}
.summ p {
    font-size: 19px;
	color: #2e2e2e;
	line-height: 42px;
	font-weight: bold;
}
.summ .title {
	color: #b4b4b4!important;
	line-height: 1.5!important;
}
.summ .final {
    font-size: 28px!important;
    color: #f62f5e!important;
	margin-left: -5px;
}
</style>

<script type="text/javascript">
  var app = angular.module('productApp', []);
	
	
  app.controller('product', function($scope, $http) {
	    $http.get("/shoppingCartController/getCart").success(function(response) {
	         $scope.cartId = response;
			$http.get("/shoppingCartController/getDirectWishListForPaymnetConfirm?cartId="+$scope.cartId).success(function(response) {
	            $scope.grossPay = response;
	        });
	        
	        
	         $http.get("/shoppingCartController/loadShoppingCart?cartId="+$scope.cartId).success(function(response) {
	    $scope.shappingCart=	response;
	  });
	        
	        
	          $http.get("/alipay/getTotalPay?cartId="+$scope.cartId).success(function(response) {
	    $scope.totalPay = response;
	}); 
	    });
	    
	    $http.get("/expressController/getUsingExpressInfoByUserId").success(function(response) {
	    $scope.currenctExpress = response;
	});

	    
	   
	    
	  $http.get("/expressController/getUsingExpressBean").success(function(response) {
	    $scope.expressBean = response;
	});  
	    
    });
	
	
	$("#nextButton").click(function() {
	    var datadata = JSON.stringify($scope.curUser);
	    
	  //  alert(" datadata = "+datadata);
	    $http({
            method: "POST",
            url:"/expressController/add",
            data: datadata,
			headers: {
                'Content-Type': 'application/json'
            },
			dataType:"json"
        }).success(function(){
        });
	});
	
	
</script>

<body ng-app="productApp" ng-controller="product">
<div class="topBarDiv">
<IFRAME NAME="content_frame" width=100% SRC="/component/topBar.html?cat=product" frameborder = 0 height = "65px"></IFRAME>
</div>
<div class="container">
<div id="paymentContain">
    <div id="infoContain">
	    <div id="paymentStatus">
		     <div class="statusPointer selected">
			 </div>
			 <div class="statusBar selected">
			 </div>
			 <div class="statusPointer selected">
			 </div>
			 <div class="statusBar">
			 </div>
			 <div class="statusPointer">
			 </div>
			 <div class="statusBar">
			 </div>
			 <div class="statusPointer">
			 </div>
		</div>
		<div id="paymentStatusDesc">
		     <div class="descDiv first">
			     <p class="selected">寄送</p>
			 </div>
			 <div class="descDiv second">
			     <p class="selected">确认</p>
			 </div>
			 <div class="descDiv">
			     <p>支付</p>
			 </div>
			 <div class="descDiv last">
			     <p>核对</p>
			 </div>
		</div>
	</div>
	<div id="confirmContain">
	    <div id="confirmationInfo">
		    <div id="confirmLeft">
			    <div class="titleText">
			        <p>套餐购买总结</p>
				</div>
			    <div class="singleConfirmTitle">
				    <span class="itemName">项目</span><span class="itemPrice">价格</span><span class="itemAmout">数量</span>
				</div>
				<div class="taocanDiv">
				    <div class="singleConfirm">
						<span class="itemName">顶级套餐</span><span class="itemPriceValue">0</span><span class="itemAmoutValue">0</span>
					</div>
				    <div class="taocanDesc">
					    <div class="descTop">
						    <p>您的套餐包含:</p>
						</div>
						<div class="descBottom">
						    <p>10项服务，我们会有专门的人员给您提供这些服务。</p>
							<p>20项物品，其中有5项物品我们会将在5天内邮寄给您。</p>
						</div>
					</div>
				</div>
				<div class="titleText">
			        <p>附加产品和服务购买总结</p>
				</div>
				<div class="singleConfirmTitle">
				    <span class="itemName">项目</span><span class="itemPrice">价格</span><span class="itemAmout">数量</span>
				</div>
				<div class="singleConfirm" ng-repeat="wishListDetail in grossPay">
					<span class="itemName">{{wishListDetail.wishName}}</span><span class="itemPriceValue">￥{{wishListDetail.price}}</span><span class="itemAmoutValue">{{wishListDetail.amount}}</span>
				</div>
						</div>
			<div id="confirmRight">
			    <div class="titleText">
			        <p>寄送</p>
				</div>
				<div class="singleConfirmTitle">
				    <span>地址</span>
				</div>
				<p class="rightInfo">{{currenctExpress.receiverName}}</p>
				<p class="rightInfo">{{expressBean.province+currenctExpress.city+currenctExpress.detailAddress}}</p>
				<div class="singleConfirmTitle">
				    <span>寄送方式</span>
				</div>
				<p class="rightInfo">{{expressBean.expressTitle}}</p>
				<p class="rightInfo">{{expressBean.expressDescription}}</p>
			</div>
		</div>
		<div id="priceInfo">
		    <div class="discountDiv">
		    <input type="text" class="form-control" id="discount" placeholder="折扣码"></input>
			</div>
			<div class="summ">
			    <p class="title">小计</p>
				<p>￥{{shappingCart.grossFee}}</p>
			</div>
			<div class="summ">
			    <p class="title">邮寄</p>
				<p>￥：{{currenctExpress.expressFee}}</p>
			</div>
			<div class="summ">
			    <p class="title">总计</p>
				<p class="final">￥{{shappingCart.grossFee+currenctExpress.expressFee}}</p>
			</div>
		</div>
	</div>
	<div id="footerContain">
	    <div id="footer">
		    <div id="prevButton">
			    <p>返回</p>
			</div>
		    <div id="nextButton">
			    <p>下一步</p>
			</div>
		</div>
	</div>
</div>
<IFRAME NAME="content_frame" width=100% height=246 marginwidth=0 marginheight=0 SRC="/component/bottomBar.html" frameborder = 0></IFRAME>
</div>
<div class="coverDiv" hidden>
<div class="titleDiv">
<h1>物品详细信息</h1>
</div>
<IFRAME class="detailFrame" width=1165px marginwidth=0 marginheight=0 SRC="#" frameborder = 0></IFRAME>
<div class="closeCoverDiv"><span class="glyphicon glyphicon-remove"></span></div>
</div>
</body>
<script>

window.onload=function(){
    $(".singleConfirm:odd").css({
	    'background': '#f7f7f7'
	});
	$("#prevButton").click(function () {
	    window.location.href='paymentInfo.html';
	});
	$("#nextButton").click(function () {
	    window.location.href='paymentMethod.html';
	});
};
</script>
</html>